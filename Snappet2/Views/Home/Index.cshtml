@*@model IEnumerable<Snappet2.Models.SubmittedAnswer>*@
@model Snappet2.ViewModel.HomeViewModel

@{
    ViewData["Title"] = "Index";
}

<h2>Report</h2>
@*<input type="date" id="datepicker" value=@Model.ReportDateTime.ToString("yyyy-MM-dd")>*@
<p></p>
<input type="text" id="searchInput" onkeyup="search()" placeholder="Search for all">

<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.SubmittedAnswers[0].SubmitDateTime)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SubmittedAnswers[0].Correct)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SubmittedAnswers[0].Progress)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SubmittedAnswers[0].UserId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SubmittedAnswers[0].ExerciseId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SubmittedAnswers[0].Difficulty)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SubmittedAnswers[0].Subject)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SubmittedAnswers[0].Domain)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SubmittedAnswers[0].LearningObjective)
            </th>
        </tr>
    </thead>
    <tbody id="data">
        @foreach (var item in Model.SubmittedAnswers)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.SubmitDateTime)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Correct)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Progress)
                </td>
                <td>
                    @Html.ActionLink(item.UserId + "", "Index", "User", new { id = item.UserId }, null)
                </td>
                <td>
                    @Html.ActionLink(item.ExerciseId + "", "Index", "Exercise", new { id = item.ExerciseId }, null)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Difficulty)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Subject)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Domain)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.LearningObjective)
                </td>
            </tr>
        }
    </tbody>
</table>

<script>
    $(document).ready(function () {
        $("#searchInput").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            $("#data tr").filter(function () {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });
    });

    //function dateChange() {
    //    $("#datePicker").on("")
    //}
</script>
